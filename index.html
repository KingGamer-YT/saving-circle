<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Savings Circle</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<style>
    /* Your existing CSS styles remain unchanged */
    /* ... */
</style>
<body>
    <div class="overlay"></div>

    <div id="preloader">
        <div class="loader"></div>
        Loading...
    </div>

    <div class="hero-section">
        <h1 id="welcomeText">Welcome to Savings Circle</h1>
        <p class="description">Join us in building a community of savers!</p>
        <button class="btn" onclick="showRegisterModal()">Register</button>
        <button class="btn" onclick="showLoginModal()">Login</button>
    </div>

    <!-- Modal for Register -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('registerModal')">&times;</span>
            <h2 style="color: black;">Register</h2>
            <form id="registerForm" onsubmit="return handleRegister(event)">
                <label for="regUsername">Username:</label>
                <input type="text" id="regUsername" required>
                <label for="regEmail">Email:</label>
                <input type="email" id="regEmail" required>
                <label for="regPassword">Password:</label>
                <input type="password" id="regPassword" required>
                <button type="submit" class="btn">Submit</button>
            </form>
        </div>
    </div>

    <!-- Modal for Login -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
            <h2 style="color: black;">Login</h2>
            <form id="loginForm" onsubmit="return handleLogin(event)">
                <label for="loginUsername">Username:</label>
                <input type="text" id="loginUsername" required>
                <label for="loginPassword">Password:</label>
                <input type="password" id="loginPassword" required>
                <button type="submit" class="btn">Submit</button>
                <p class="forgot-password" onclick="showForgotPassword()">Forgot password?</p>
            </form>
        </div>
    </div>

    <div id="forgotPasswordModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('forgotPasswordModal')">&times;</span>
            <h2 style="color: black;">Reset Password</h2>
            <form id="forgotPasswordForm" onsubmit="return handleForgotPassword(event)">
                <label for="forgotUsername">Username:</label>
                <input type="text" id="forgotUsername" required>
                <label for="newPassword">New Password:</label>
                <input type="password" id="newPassword" required>
                <label for="confirmPassword">Confirm Password:</label>
                <input type="password" id="confirmPassword" required>
                <button type="submit" class="btn">Submit</button>
            </form>
        </div>
    </div>

    <script>
        function showRegisterModal() {
            document.getElementById('registerModal').style.display = "block";
            resetModalOpacity();
        }

        function showForgotPassword() {
            document.getElementById('forgotPasswordModal').style.display = "block";
            resetModalOpacity();
        }

        function showLoginModal() {
            document.getElementById('loginModal').style.display = "block";
            resetModalOpacity();
        }

        function resetModalOpacity() {
            const modalContents = document.querySelectorAll('.modal-content');
            modalContents.forEach(content => {
                content.style.opacity = 0; // Reset opacity for animation
                setTimeout(() => {
                    content.style.opacity = 1; // Animate opacity
                }, 50);
            });
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = "none";
        }

        function handleRegister(event) {
            event.preventDefault();
            const password = document.getElementById('regPassword').value;

            if (!validatePassword(password)) {
                alert("Password must be at least 8 characters long, contain at least one uppercase letter, one lowercase letter, and one number.");
                return false;
            }

            showPreloader();
            setTimeout(() => {
                closeModal('registerModal');
                hidePreloader();
                alert("Registration successful!");
                window.location.href = 'dashboard.html'; // Redirect to dashboard after registration
            }, 3000);
        }

        function handleLogin(event) {
            event.preventDefault();
            const password = document.getElementById('loginPassword').value;

            if (!validatePassword(password)) {
                alert("Password must be at least 8 characters long, contain at least one uppercase letter, one lowercase letter, and one number.");
                return false;
            }

            showPreloader();
            setTimeout(() => {
                closeModal('loginModal');
                hidePreloader();
                alert("Login successful!");
                window.location.href = 'dashboard.html'; // Redirect to dashboard after login
            }, 3000);
        }

        function handleForgotPassword(event) {
            event.preventDefault();
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (newPassword !== confirmPassword) {
                alert("Passwords do not match.");
                return false;
            }

            if (!validatePassword(newPassword)) {
                alert("New password must be at least 8 characters long, contain at least one uppercase letter, one lowercase letter, and one number.");
                return false;
            }

            showPreloader();
            setTimeout(() => {
                closeModal('forgotPasswordModal');
                hidePreloader();
                alert("Password reset successfully!");
            }, 3000);
        }

        function validatePassword(password) {
            const passwordPattern = /^(?=.[a-z])(?=.[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/;
            return passwordPattern.test(password);
        }

        function showPreloader() {
            document.getElementById('preloader').style.display = 'flex';
        }

        function hidePreloader() {
            document.getElementById('preloader').style.display = 'none';
        }

        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                closeModal('registerModal');
                closeModal('loginModal');
                closeModal('forgotPasswordModal');
            }
        };
    </script>
</body>
</html>